!function(t,e){"function"==typeof define&&define.amd?define([],e()):"object"==typeof exports?module.exports=e():t.WordCharCount=e()}(this,(function(){"use strict";function t(t,e,o){this.selector=t,this.editor=e,this.element=window.parent.document.querySelector(this.selector),this.elementId=this.element.getAttribute("id");this.options={maxCharacters:100,maxWords:10,characterCount:!0,wordCount:!0,characterText:"character(s)",wordText:"word(s)",separator:" â€¢ ",wrapperClassName:"help-block text-left",className:"text-muted",errorClassName:"text-danger",...o},this.options.characterCount="true"===this.options.characterCount|!0===this.options.characterCount,this.options.wordCount="true"===this.options.wordCount|!0===this.options.wordCount,this.init()}return t.prototype={init:function(){let t=document.createElement("p");if(t.id="p-"+this.elementId,this.options.className.split(" ").forEach((e=>{t.classList.add(e)})),this.options.wordCount){let e=document.createElement("span");e.id="word-count"+this.elementId,e.textContent="0 "+this.options.wordText+" / "+this.options.maxWords,t.appendChild(e),this.options.characterCount&&t.append(this.options.separator)}if(this.options.characterCount){let e=document.createElement("span");e.id="char-count"+this.elementId,e.textContent="0 "+this.options.characterText+" / "+this.options.maxCharacters,t.appendChild(e)}let e=document.createElement("div");this.options.wrapperClassName.split(" ").forEach((t=>{e.classList.add(t)})),e.appendChild(t),this.editor.container.insertAdjacentElement("afterend",e),this.editor.on("keyup",this.doCount.bind(this));var o=new Event("keyup");this.element.dispatchEvent(o)},doCount:function(){var t=tinymce.activeEditor.getContent({format:"text"}),e=t.length,o=t.trim().split(" ").length;""===t&&(o=0),this.options.wordCount&&(window.parent.document.getElementById("word-count"+this.elementId).textContent=o+" "+this.options.wordText+" / "+this.options.maxWords,o>this.options.maxWords?window.parent.document.getElementById("word-count"+this.elementId).classList.add(this.options.errorClassName):window.parent.document.getElementById("word-count"+this.elementId).classList.remove(this.options.errorClassName)),this.options.characterCount&&(window.parent.document.getElementById("char-count"+this.elementId).textContent=e+" "+this.options.characterText+" / "+this.options.maxCharacters,e>this.options.maxCharacters?window.parent.document.getElementById("char-count"+this.elementId).classList.add(this.options.errorClassName):window.parent.document.getElementById("char-count"+this.elementId).classList.remove(this.options.errorClassName))}},t}));