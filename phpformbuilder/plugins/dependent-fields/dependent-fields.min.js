!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.DependentFields=t()}(this,(function(){"use strict";function e(e){this.selector=e,this.options={wrapperClass:"hidden-wrapper",showClass:"on",hideClass:"off",parentData:"data-parent",showValuesData:"data-show-values",inverseData:"data-inverse"},this.init()}return e.prototype={init:function(){this.elements=document.querySelectorAll(this.selector);for(let e of this.elements){const t=e.getAttribute(this.options.parentData).replace("[]","");let n=t,s=e.getAttribute(this.options.showValuesData),i=e.getAttribute(this.options.inverseData);null!==document.querySelector('*[name="'+t+'[]"]')&&(n=t+"[]"),s=this._getShowValues(s),i="true"==i||i>0;const l=[];document.querySelectorAll('*[name="'+n+'"]').forEach((o=>{if(-1===l.indexOf(t)){let a="change";o.previousSibling&&o.previousSibling.classList.contains("lcs_switch")?a="lcs-statuschange":o.classList.contains("select2")&&(a="change.select2"),this._enableEventsListeners(e,n,a,s,i),this._triggerEvent(o,a),l.push(t)}}))}document.querySelector('button[type="reset"]')&&document.querySelector('button[type="reset"]').addEventListener("click",(()=>{this.init()}))},_enableEventsListeners:function(e,t,n,s,i){document.querySelectorAll('[name="'+t+'"]').forEach((l=>{l.addEventListener(n,(n=>{const l="radio"===n.target.type,o="checkbox"===n.target.type,a=this._getValue(t,n,s,l,o,i);s.indexOf(a)>-1?!0!==i&&this._showElement(e):!0===i&&void 0!==a?this._showElement(e):this._hideElement(e)}))}))},_getValue:function(e,t,n,s,i,l){let o;if(l){if(s)n.indexOf(document.querySelector('input[name="'+e+'"]:checked').value)<0&&(o=document.querySelector('input[name="'+e+'"]:checked').value);else if(i){o=[],document.querySelectorAll('input[name="'+e+'"]:checked').forEach((e=>{n.indexOf(e.value)<0&&o.push(e.value)})),o.length<1&&(o=void 0)}else n.indexOf(t.target.value)<0&&(o=t.target.value);"object"==typeof o&&(o=o[0])}else{if(s){document.querySelector('input[name="'+e+'"]:checked')&&(o=document.querySelector('input[name="'+e+'"]:checked').value)}else if(i){o=[];let t=document.querySelectorAll('input[name="'+e+'"]:checked');t.length>0&&t.forEach((e=>{o.push(e.value)}))}else o=t.target.value;if("object"==typeof o&&null!==o)for(let e=o.length-1;e>=0;e--)if(n.indexOf(o[e])>-1){o=o[e];break}}return o},_getShowValues:function(e){e=(e=e.replace("\\,","{comma}")).split(/,\s*/);for(let t=0;t<e.length;t++)e[t]=e[t].replace("{comma}",",");return e},_getNextSibling:function(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}return null},_hideElement:function(e){e.classList.remove(this.options.showClass),e.classList.add(this.options.hideClass),setTimeout((()=>{for(const t of e.querySelectorAll("input:not([type='file']), select, checkbox, textarea"))t.classList.contains("hidden-wrapper")||("true"==t.getAttribute("data-slimselect")?null!=window.slimSelects[t.getAttribute("name")]&&window.slimSelects[t.getAttribute("name")].disable():t.disabled=!0)}),0)},_showElement:function(e){e.classList.remove(this.options.hideClass),e.classList.add(this.options.showClass),setTimeout((()=>{for(const t of e.querySelectorAll("input:not([type='file']), select, checkbox, textarea"))t.classList.contains("hidden-wrapper")||("true"==t.getAttribute("data-slimselect")?null!=window.slimSelects[t.getAttribute("name")]&&window.slimSelects[t.getAttribute("name")].enable():t.disabled=!1)}),0)},_triggerEvent:function(e,t){const n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}},e}));